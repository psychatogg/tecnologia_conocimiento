---
title: "Práctica de Redes de Convolución"
author: "Juliana Quirós, Alberto"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
library(kableExtra)
knitr::opts_chunk$set(echo = FALSE,tidy=TRUE, warning=FALSE)
```

1.  \

    ![](diagrama/diagrama.png)

2.1.\
Estas fueron las tasas probadas:

```{r}
tasas_1 <- read.csv("E:\\GDrive1\\Uni\\Master\\tecnologia_conocimiento\\practicas\\convolucional\\2.1_tasas1.csv",sep=";", header=TRUE)
tm <- tasas_1[3,1]
em <- max(tasas_1$exactitud)
knitr::kable(tasas_1, format = "markdown", digits = 6, 
             row.names = FALSE, align = c("l", "c", "r"))
             
```

La em es de `r em`%, con una tm=`r tm`.\
\

```{r}
library(ggplot2)
tasas_2 <- read.csv("E:\\GDrive1\\Uni\\Master\\tecnologia_conocimiento\\practicas\\convolucional\\2.1_tasas2.csv",sep=";", header=TRUE)

tasas_2$nombre <- factor(tasas_2$nombre, levels=(tasas_2$nombre))

knitr::kable(tasas_2, format = "markdown", digits = 6, 
             row.names = FALSE, align = c("l", "c", "r")) 
             
```

\

```{r}
ggplot(tasas_2, aes(x=nombre, y=exactitud, group=1)) + 
  geom_point(color="blue") +
	geom_line() +
  labs(x="Tasa de aprendizaje", y="Exactitud (%)") +
  ggtitle("Gráfico de tasas de aprendizaje y exactitud")
```

\
2.2\
Tabla en formato long de exactitud por épocas a diferentes tasas:\
```{r}
library(tidyr)
tasas_3 <- read.csv("E:\\GDrive1\\Uni\\Master\\tecnologia_conocimiento\\practicas\\convolucional\\2.2_tasas.csv",sep=";", header=TRUE)

tasas_3_long <- gather(tasas_3, key = "exactitud", value = "valor_exactitud", exactitud_10:exactitud_50, factor_key = TRUE)



tasas_3_long$nombre <- factor(tasas_3_long$nombre)
levels(tasas_3_long$nombre) <- c("tm_div20", "tm_div15", "tm_div10", "tm_div5", "tm", "tm_5", "tm_10", "tm_15", "tm_20")
levels(tasas_3_long$exactitud) <- c("1", "2", "3", "4", "5")

colnames(tasas_3_long)[colnames(tasas_3_long) == 'exactitud'] <- 'época'
colnames(tasas_3_long)[colnames(tasas_3_long) == 'valor_exactitud'] <- 'exactitud'
knitr::kable(tasas_3_long, format = "markdown", digits = 6, 
             row.names = FALSE, align = c("l", "c", "r"))

```

![](2.2_plot.png)
Medias de exactitud por épocas: \
```{r}
medias_exact <- data.frame(t(apply(tasas_3[,3:7],2,function(x) mean(x))))
knitr::kable(medias_exact, format = "markdown", digits = 6, 
             row.names = FALSE, align = c("l", "c", "r"))
```
\
2.3\
Como podemos observar, obtenemos una mayor exactitud con tasas de aprendizaje más pequeñas que con múltiplos de la máxima. Esto puede deberse a que el algoritmo converge en una solución subóptima (mínimo local) en los primeros casos, frente a la omisión directa de dichos mínimos en los segundos casos, que inducen errores de detección y clasificación. \
Observamos a su vez, que la tasa que da lugar a la exactitud máxima se mantiene hasta llegar a 30 épocas. A partir de las 40, tm/5 supera ligeramente a tm. Este fenómeno se debe a que el algoritmo ha dispuesto de mayor tiempo de entrenamiento. \
La media de exactitud más alta (61.8444) se produce con 50 iteraciones, lo cual confirma lo anteriormente expuesto. \
\
3.1\


